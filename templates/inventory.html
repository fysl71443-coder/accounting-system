{% extends "base_unified.html" %}

{% block title %}
    {% if session.get('language', 'ar') == 'ar' %}
        Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† - Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
    {% else %}
        Inventory Management - Accounting System
    {% endif %}
{% endblock %}

{% block page_icon %}<i class="fas fa-boxes"></i>{% endblock %}

{% block page_title %}
{% if session.get('language', 'ar') == 'ar' %}
    Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
{% else %}
    Inventory Management
{% endif %}
{% endblock %}

{% block content %}

<!-- Inventory Statistics -->
<div class="row g-3 mb-4">
    <div class="col-xl-3 col-md-6">
        <div class="card h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h6 class="text-uppercase mb-1 text-muted small">
                            {% if session.get('language', 'ar') == 'ar' %}Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£ØµÙ†Ø§Ù{% else %}Total Items{% endif %}
                        </h6>
                        <h4 class="mb-0 text-primary">1,245</h4>
                    </div>
                    <div class="text-primary opacity-75">
                        <i class="fas fa-box fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 col-md-6">
        <div class="card h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h6 class="text-uppercase mb-1 text-muted small">
                            {% if session.get('language', 'ar') == 'ar' %}Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶{% else %}Low Stock{% endif %}
                        </h6>
                        <h4 class="mb-0 text-danger">23</h4>
                    </div>
                    <div class="text-danger opacity-75">
                        <i class="fas fa-arrow-down fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 col-md-6">
        <div class="card h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h6 class="text-uppercase mb-1 text-muted small">
                            {% if session.get('language', 'ar') == 'ar' %}Ù†ÙØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†{% else %}Out of Stock{% endif %}
                        </h6>
                        <h4 class="mb-0 text-warning">8</h4>
                    </div>
                    <div class="text-warning opacity-75">
                        <i class="fas fa-times-circle fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 col-md-6">
        <div class="card h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h6 class="text-uppercase mb-1 text-muted small">
                            {% if session.get('language', 'ar') == 'ar' %}Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†{% else %}Inventory Value{% endif %}
                        </h6>
                        <h4 class="mb-0 text-success">2,450,000</h4>
                    </div>
                    <div class="text-success opacity-75">
                        <i class="fas fa-dollar-sign fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Search and Filter -->
<div class="card mb-4">
    <div class="card-body">
        <div class="row g-3">
            <div class="col-md-6">
                <div class="input-group">
                    <input type="text" class="form-control" id="searchItems" placeholder="{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£ØµÙ†Ø§Ù...{% else %}Search items...{% endif %}">
                    <button class="btn btn-outline-secondary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
    <div class="col-md-2">
        <select class="form-select" id="filterCategory">
            <option value="">{% if session.get('language', 'ar') == 'ar' %}Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª{% else %}All Categories{% endif %}</option>
            <option value="electronics">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</option>
            <option value="food">Ø£ØºØ°ÙŠØ©</option>
            <option value="clothing">Ù…Ù„Ø§Ø¨Ø³</option>
            <option value="books">ÙƒØªØ¨</option>
        </select>
    </div>
    <div class="col-md-2">
        <select class="form-select" id="filterStock">
            <option value="">{% if session.get('language', 'ar') == 'ar' %}Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†{% else %}All Stock{% endif %}</option>
            <option value="in_stock">Ù…ØªÙˆÙØ±</option>
            <option value="low_stock">Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶</option>
            <option value="out_of_stock">Ù†ÙØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</option>
        </select>
    </div>
    <div class="col-md-2">
        <select class="form-select" id="sortBy">
            <option value="name">{% if session.get('language', 'ar') == 'ar' %}ØªØ±ØªÙŠØ¨ Ø¨Ø§Ù„Ø§Ø³Ù…{% else %}Sort by Name{% endif %}</option>
            <option value="stock">{% if session.get('language', 'ar') == 'ar' %}ØªØ±ØªÙŠØ¨ Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ†{% else %}Sort by Stock{% endif %}</option>
            <option value="price">{% if session.get('language', 'ar') == 'ar' %}ØªØ±ØªÙŠØ¨ Ø¨Ø§Ù„Ø³Ø¹Ø±{% else %}Sort by Price{% endif %}</option>
        </select>
    </div>
    <div class="col-md-2">
        <div class="btn-group w-100" role="group">
            <button type="button" class="btn btn-outline-secondary" onclick="toggleView('table')" id="tableViewBtn">
                <i class="fas fa-table"></i>
            </button>
            <button type="button" class="btn btn-outline-secondary active" onclick="toggleView('cards')" id="cardsViewBtn">
                <i class="fas fa-th"></i>
            </button>
        </div>
    </div>
</div>

<!-- Inventory Table View -->
<div class="card d-none" id="tableView">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ØµÙˆØ±Ø©{% else %}Image{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù{% else %}Item Name{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©{% else %}Category{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙƒÙ…ÙŠØ©{% else %}Quantity{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙˆØ­Ø¯Ø©{% else %}Unit{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡{% else %}Purchase Price{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹{% else %}Selling Price{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø­Ø§Ù„Ø©{% else %}Status{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª{% else %}Actions{% endif %}</th>
                    </tr>
                </thead>
                <tbody id="inventoryTableBody">
                    <!-- Sample inventory data -->
                    <tr>
                        <td>
                            <img src="https://via.placeholder.com/50x50/007bff/ffffff?text=PC" alt="ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù…Ø­Ù…ÙˆÙ„" class="rounded" style="width: 50px; height: 50px;">
                        </td>
                        <td>
                            <strong>ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù…Ø­Ù…ÙˆÙ„ HP</strong><br>
                            <small class="text-muted">HP Pavilion 15</small>
                        </td>
                        <td><span class="badge bg-primary">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</span></td>
                        <td><strong>25</strong></td>
                        <td>Ù‚Ø·Ø¹Ø©</td>
                        <td><strong>3,200 Ø±ÙŠØ§Ù„</strong></td>
                        <td><strong>3,500 Ø±ÙŠØ§Ù„</strong></td>
                        <td><span class="badge bg-success">Ù…ØªÙˆÙØ±</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewItem(1)" title="Ø¹Ø±Ø¶">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning" onclick="editItem(1)" title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="adjustStock(1)" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
                                    <i class="fas fa-boxes"></i>
                                </button>
                                <button class="btn btn-outline-secondary" onclick="viewHistory(1)" title="Ø§Ù„ØªØ§Ø±ÙŠØ®">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img src="https://via.placeholder.com/50x50/28a745/ffffff?text=ğŸ“±" alt="Ù‡Ø§ØªÙ Ø°ÙƒÙŠ" class="rounded" style="width: 50px; height: 50px;">
                        </td>
                        <td>
                            <strong>Ù‡Ø§ØªÙ Ø°ÙƒÙŠ Samsung</strong><br>
                            <small class="text-muted">Galaxy S21</small>
                        </td>
                        <td><span class="badge bg-primary">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</span></td>
                        <td><strong class="text-warning">5</strong></td>
                        <td>Ù‚Ø·Ø¹Ø©</td>
                        <td><strong>2,800 Ø±ÙŠØ§Ù„</strong></td>
                        <td><strong>3,200 Ø±ÙŠØ§Ù„</strong></td>
                        <td><span class="badge bg-warning">Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewItem(2)" title="Ø¹Ø±Ø¶">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning" onclick="editItem(2)" title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="adjustStock(2)" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
                                    <i class="fas fa-boxes"></i>
                                </button>
                                <button class="btn btn-outline-secondary" onclick="viewHistory(2)" title="Ø§Ù„ØªØ§Ø±ÙŠØ®">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img src="https://via.placeholder.com/50x50/dc3545/ffffff?text=ğŸ“š" alt="ÙƒØªØ§Ø¨" class="rounded" style="width: 50px; height: 50px;">
                        </td>
                        <td>
                            <strong>ÙƒØªØ§Ø¨ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©</strong><br>
                            <small class="text-muted">ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø¨Ø³Ù‡ÙˆÙ„Ø©</small>
                        </td>
                        <td><span class="badge bg-info">ÙƒØªØ¨</span></td>
                        <td><strong class="text-danger">0</strong></td>
                        <td>Ù‚Ø·Ø¹Ø©</td>
                        <td><strong>45.00 Ø±ÙŠØ§Ù„</strong></td>
                        <td><strong>80.00 Ø±ÙŠØ§Ù„</strong></td>
                        <td><span class="badge bg-danger">Ù†ÙØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewItem(3)" title="Ø¹Ø±Ø¶">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning" onclick="editItem(3)" title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="adjustStock(3)" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
                                    <i class="fas fa-boxes"></i>
                                </button>
                                <button class="btn btn-outline-secondary" onclick="viewHistory(3)" title="Ø§Ù„ØªØ§Ø±ÙŠØ®">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img src="https://via.placeholder.com/50x50/ffc107/000000?text=ğŸ‘•" alt="Ù‚Ù…ÙŠØµ" class="rounded" style="width: 50px; height: 50px;">
                        </td>
                        <td>
                            <strong>Ù‚Ù…ÙŠØµ Ù‚Ø·Ù†ÙŠ</strong><br>
                            <small class="text-muted">Ù‚Ù…ÙŠØµ Ø±Ø¬Ø§Ù„ÙŠ Ø£Ø²Ø±Ù‚</small>
                        </td>
                        <td><span class="badge bg-secondary">Ù…Ù„Ø§Ø¨Ø³</span></td>
                        <td><strong>50</strong></td>
                        <td>Ù‚Ø·Ø¹Ø©</td>
                        <td><strong>85.00 Ø±ÙŠØ§Ù„</strong></td>
                        <td><strong>120.00 Ø±ÙŠØ§Ù„</strong></td>
                        <td><span class="badge bg-success">Ù…ØªÙˆÙØ±</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewItem(4)" title="Ø¹Ø±Ø¶">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning" onclick="editItem(4)" title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="adjustStock(4)" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
                                    <i class="fas fa-boxes"></i>
                                </button>
                                <button class="btn btn-outline-secondary" onclick="viewHistory(4)" title="Ø§Ù„ØªØ§Ø±ÙŠØ®">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <img src="https://via.placeholder.com/50x50/17a2b8/ffffff?text=ğŸ" alt="ØªÙØ§Ø­" class="rounded" style="width: 50px; height: 50px;">
                        </td>
                        <td>
                            <strong>ØªÙØ§Ø­ Ø£Ø­Ù…Ø±</strong><br>
                            <small class="text-muted">ØªÙØ§Ø­ Ø·Ø§Ø²Ø¬ Ù…Ù† Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</small>
                        </td>
                        <td><span class="badge bg-success">Ø£ØºØ°ÙŠØ©</span></td>
                        <td><strong>200</strong></td>
                        <td>ÙƒÙŠÙ„Ùˆ</td>
                        <td><strong>8.00 Ø±ÙŠØ§Ù„</strong></td>
                        <td><strong>12.00 Ø±ÙŠØ§Ù„</strong></td>
                        <td><span class="badge bg-success">Ù…ØªÙˆÙØ±</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewItem(5)" title="Ø¹Ø±Ø¶">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning" onclick="editItem(5)" title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="adjustStock(5)" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
                                    <i class="fas fa-boxes"></i>
                                </button>
                                <button class="btn btn-outline-secondary" onclick="viewHistory(5)" title="Ø§Ù„ØªØ§Ø±ÙŠØ®">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Inventory Cards View -->
<div class="row" id="cardsView">
    <!-- Sample Inventory Cards -->
    <div class="col-md-6 col-lg-4 mb-4">
        <div class="card inventory-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h6 class="card-title mb-0">iPhone 14 Pro</h6>
                <span class="badge bg-success">Ù…ØªÙˆÙØ±</span>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-4">
                        <img src="https://via.placeholder.com/80x80" class="img-fluid rounded" alt="iPhone 14 Pro">
                    </div>
                    <div class="col-8">
                        <div class="row">
                            <div class="col-12 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©:{% else %}Category:{% endif %}
                                </small>
                                <span class="badge bg-primary">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</span>
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙƒÙ…ÙŠØ©:{% else %}Qty:{% endif %}
                                </small>
                                <br><strong>25</strong>
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙˆØ­Ø¯Ø©:{% else %}Unit:{% endif %}
                                </small>
                                <br>Ù‚Ø·Ø¹Ø©
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡:{% else %}Purchase:{% endif %}
                                </small>
                                <br><strong>3,200 Ø±ÙŠØ§Ù„</strong>
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹:{% else %}Selling:{% endif %}
                                </small>
                                <br><strong>3,500 Ø±ÙŠØ§Ù„</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <div class="btn-group w-100" role="group">
                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="viewItem(1)">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-warning" onclick="editItem(1)">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-success" onclick="adjustStock(1)">
                        <i class="fas fa-plus-minus"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-info" onclick="viewHistory(1)">
                        <i class="fas fa-history"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-6 col-lg-4 mb-4">
        <div class="card inventory-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h6 class="card-title mb-0">Ø¨Ø±ÙŠØ§Ù†ÙŠ Ø¯Ø¬Ø§Ø¬</h6>
                <span class="badge bg-warning">Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶</span>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-4">
                        <img src="https://via.placeholder.com/80x80" class="img-fluid rounded" alt="Ø¨Ø±ÙŠØ§Ù†ÙŠ Ø¯Ø¬Ø§Ø¬">
                    </div>
                    <div class="col-8">
                        <div class="row">
                            <div class="col-12 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©:{% else %}Category:{% endif %}
                                </small>
                                <span class="badge bg-success">Ø£ØºØ°ÙŠØ©</span>
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙƒÙ…ÙŠØ©:{% else %}Qty:{% endif %}
                                </small>
                                <br><strong class="text-warning">5</strong>
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙˆØ­Ø¯Ø©:{% else %}Unit:{% endif %}
                                </small>
                                <br>Ø·Ø¨Ù‚
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡:{% else %}Purchase:{% endif %}
                                </small>
                                <br><strong>15.50 Ø±ÙŠØ§Ù„</strong>
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹:{% else %}Selling:{% endif %}
                                </small>
                                <br><strong>25.00 Ø±ÙŠØ§Ù„</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <div class="btn-group w-100" role="group">
                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="viewItem(2)">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-warning" onclick="editItem(2)">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-success" onclick="adjustStock(2)">
                        <i class="fas fa-plus-minus"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-info" onclick="viewHistory(2)">
                        <i class="fas fa-history"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-6 col-lg-4 mb-4">
        <div class="card inventory-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h6 class="card-title mb-0">Ù‚Ù…ÙŠØµ Ù‚Ø·Ù†ÙŠ Ø£Ø²Ø±Ù‚</h6>
                <span class="badge bg-danger">Ù†ÙØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</span>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-4">
                        <img src="https://via.placeholder.com/80x80" class="img-fluid rounded" alt="Ù‚Ù…ÙŠØµ Ù‚Ø·Ù†ÙŠ">
                    </div>
                    <div class="col-8">
                        <div class="row">
                            <div class="col-12 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©:{% else %}Category:{% endif %}
                                </small>
                                <span class="badge bg-info">Ù…Ù„Ø§Ø¨Ø³</span>
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙƒÙ…ÙŠØ©:{% else %}Qty:{% endif %}
                                </small>
                                <br><strong class="text-danger">0</strong>
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙˆØ­Ø¯Ø©:{% else %}Unit:{% endif %}
                                </small>
                                <br>Ù‚Ø·Ø¹Ø©
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡:{% else %}Purchase:{% endif %}
                                </small>
                                <br><strong>45.00 Ø±ÙŠØ§Ù„</strong>
                            </div>
                            <div class="col-6 mb-1">
                                <small class="text-muted">
                                    {% if session.get('language', 'ar') == 'ar' %}Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹:{% else %}Selling:{% endif %}
                                </small>
                                <br><strong>80.00 Ø±ÙŠØ§Ù„</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <div class="btn-group w-100" role="group">
                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="viewItem(3)">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-warning" onclick="editItem(3)">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-success" onclick="adjustStock(3)">
                        <i class="fas fa-plus-minus"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-info" onclick="viewHistory(3)">
                        <i class="fas fa-history"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Item Modal -->
<div class="modal fade" id="addItemModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    {% if session.get('language', 'ar') == 'ar' %}Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ø¬Ø¯ÙŠØ¯{% else %}Add New Item{% endif %}
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="itemForm">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù{% else %}Item Name{% endif %}
                            </label>
                            <input type="text" class="form-control" name="item_name" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©{% else %}Category{% endif %}
                            </label>
                            <select class="form-select" name="category" required>
                                <option value="">{% if session.get('language', 'ar') == 'ar' %}Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©{% else %}Select Category{% endif %}</option>
                                <option value="electronics">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</option>
                                <option value="food">Ø£ØºØ°ÙŠØ©</option>
                                <option value="clothing">Ù…Ù„Ø§Ø¨Ø³</option>
                                <option value="books">ÙƒØªØ¨</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©{% else %}Initial Quantity{% endif %}
                            </label>
                            <input type="number" class="form-control" name="initial_quantity" min="0" step="0.01">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙˆØ­Ø¯Ø©{% else %}Unit{% endif %}
                            </label>
                            <select class="form-select" name="unit">
                                <option value="Ù‚Ø·Ø¹Ø©">Ù‚Ø·Ø¹Ø©</option>
                                <option value="ÙƒÙŠÙ„Ùˆ">ÙƒÙŠÙ„Ùˆ</option>
                                <option value="Ù„ØªØ±">Ù„ØªØ±</option>
                                <option value="Ù…ØªØ±">Ù…ØªØ±</option>
                                <option value="Ø·Ø¨Ù‚">Ø·Ø¨Ù‚</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡{% else %}Purchase Price{% endif %}
                            </label>
                            <input type="number" class="form-control" name="purchase_price" step="0.01" min="0">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹{% else %}Selling Price{% endif %}
                            </label>
                            <input type="number" class="form-control" name="selling_price" step="0.01" min="0">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ù…Ø®Ø²ÙˆÙ†{% else %}Minimum Stock Level{% endif %}
                            </label>
                            <input type="number" class="form-control" name="min_stock" min="0" step="0.01">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…Ø®Ø²ÙˆÙ†{% else %}Maximum Stock Level{% endif %}
                            </label>
                            <input type="number" class="form-control" name="max_stock" min="0" step="0.01">
                        </div>
                        <div class="col-12 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙˆØµÙ{% else %}Description{% endif %}
                            </label>
                            <textarea class="form-control" name="description" rows="3"></textarea>
                        </div>
                        <div class="col-12 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}ØµÙˆØ±Ø© Ø§Ù„ØµÙ†Ù{% else %}Item Image{% endif %}
                            </label>
                            <input type="file" class="form-control" name="item_image" accept="image/*">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    {% if session.get('language', 'ar') == 'ar' %}Ø¥Ù„ØºØ§Ø¡{% else %}Cancel{% endif %}
                </button>
                <button type="button" class="btn btn-primary" onclick="saveItem()">
                    {% if session.get('language', 'ar') == 'ar' %}Ø­ÙØ¸{% else %}Save{% endif %}
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Stock Adjustment Modal -->
<div class="modal fade" id="stockAdjustmentModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    {% if session.get('language', 'ar') == 'ar' %}ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†{% else %}Stock Adjustment{% endif %}
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="stockAdjustmentForm">
                    <div class="mb-3">
                        <label class="form-label">
                            {% if session.get('language', 'ar') == 'ar' %}Ù†ÙˆØ¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„{% else %}Adjustment Type{% endif %}
                        </label>
                        <select class="form-select" name="adjustment_type" required>
                            <option value="add">{% if session.get('language', 'ar') == 'ar' %}Ø¥Ø¶Ø§ÙØ©{% else %}Add{% endif %}</option>
                            <option value="subtract">{% if session.get('language', 'ar') == 'ar' %}Ø®ØµÙ…{% else %}Subtract{% endif %}</option>
                            <option value="set">{% if session.get('language', 'ar') == 'ar' %}ØªØ¹ÙŠÙŠÙ†{% else %}Set{% endif %}</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙƒÙ…ÙŠØ©{% else %}Quantity{% endif %}
                        </label>
                        <input type="number" class="form-control" name="quantity" step="0.01" min="0" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø³Ø¨Ø¨{% else %}Reason{% endif %}
                        </label>
                        <select class="form-select" name="reason">
                            <option value="purchase">{% if session.get('language', 'ar') == 'ar' %}Ø´Ø±Ø§Ø¡{% else %}Purchase{% endif %}</option>
                            <option value="sale">{% if session.get('language', 'ar') == 'ar' %}Ø¨ÙŠØ¹{% else %}Sale{% endif %}</option>
                            <option value="damage">{% if session.get('language', 'ar') == 'ar' %}ØªÙ„Ù{% else %}Damage{% endif %}</option>
                            <option value="theft">{% if session.get('language', 'ar') == 'ar' %}Ø³Ø±Ù‚Ø©{% else %}Theft{% endif %}</option>
                            <option value="adjustment">{% if session.get('language', 'ar') == 'ar' %}ØªØ¹Ø¯ÙŠÙ„{% else %}Adjustment{% endif %}</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">
                            {% if session.get('language', 'ar') == 'ar' %}Ù…Ù„Ø§Ø­Ø¸Ø§Øª{% else %}Notes{% endif %}
                        </label>
                        <textarea class="form-control" name="notes" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    {% if session.get('language', 'ar') == 'ar' %}Ø¥Ù„ØºØ§Ø¡{% else %}Cancel{% endif %}
                </button>
                <button type="button" class="btn btn-primary" onclick="saveStockAdjustment()">
                    {% if session.get('language', 'ar') == 'ar' %}Ø­ÙØ¸{% else %}Save{% endif %}
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Sample inventory data
const inventoryData = [
    {
        id: 1,
        name: 'ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù…Ø­Ù…ÙˆÙ„ HP',
        description: 'HP Pavilion 15',
        category: 'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª',
        quantity: 25,
        unit: 'Ù‚Ø·Ø¹Ø©',
        purchasePrice: 3200,
        sellingPrice: 3500,
        status: 'Ù…ØªÙˆÙØ±',
        statusClass: 'success',
        image: 'https://via.placeholder.com/50x50/007bff/ffffff?text=PC'
    },
    {
        id: 2,
        name: 'Ù‡Ø§ØªÙ Ø°ÙƒÙŠ Samsung',
        description: 'Galaxy S21',
        category: 'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª',
        quantity: 5,
        unit: 'Ù‚Ø·Ø¹Ø©',
        purchasePrice: 2800,
        sellingPrice: 3200,
        status: 'Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶',
        statusClass: 'warning',
        image: 'https://via.placeholder.com/50x50/28a745/ffffff?text=ğŸ“±'
    },
    {
        id: 3,
        name: 'ÙƒØªØ§Ø¨ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©',
        description: 'ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø¨Ø³Ù‡ÙˆÙ„Ø©',
        category: 'ÙƒØªØ¨',
        quantity: 0,
        unit: 'Ù‚Ø·Ø¹Ø©',
        purchasePrice: 45,
        sellingPrice: 80,
        status: 'Ù†ÙØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†',
        statusClass: 'danger',
        image: 'https://via.placeholder.com/50x50/dc3545/ffffff?text=ğŸ“š'
    },
    {
        id: 4,
        name: 'Ù‚Ù…ÙŠØµ Ù‚Ø·Ù†ÙŠ',
        description: 'Ù‚Ù…ÙŠØµ Ø±Ø¬Ø§Ù„ÙŠ Ø£Ø²Ø±Ù‚',
        category: 'Ù…Ù„Ø§Ø¨Ø³',
        quantity: 50,
        unit: 'Ù‚Ø·Ø¹Ø©',
        purchasePrice: 85,
        sellingPrice: 120,
        status: 'Ù…ØªÙˆÙØ±',
        statusClass: 'success',
        image: 'https://via.placeholder.com/50x50/ffc107/000000?text=ğŸ‘•'
    },
    {
        id: 5,
        name: 'ØªÙØ§Ø­ Ø£Ø­Ù…Ø±',
        description: 'ØªÙØ§Ø­ Ø·Ø§Ø²Ø¬ Ù…Ù† Ø§Ù„Ù…Ø²Ø±Ø¹Ø©',
        category: 'Ø£ØºØ°ÙŠØ©',
        quantity: 200,
        unit: 'ÙƒÙŠÙ„Ùˆ',
        purchasePrice: 8,
        sellingPrice: 12,
        status: 'Ù…ØªÙˆÙØ±',
        statusClass: 'success',
        image: 'https://via.placeholder.com/50x50/17a2b8/ffffff?text=ğŸ'
    }
];

function toggleView(viewType) {
    const tableView = document.getElementById('tableView');
    const cardsView = document.getElementById('cardsView');
    const tableBtn = document.getElementById('tableViewBtn');
    const cardsBtn = document.getElementById('cardsViewBtn');

    if (viewType === 'table') {
        tableView.classList.remove('d-none');
        cardsView.classList.add('d-none');
        tableBtn.classList.add('active');
        cardsBtn.classList.remove('active');

        // Load table data when switching to table view
        loadTableData();
    } else {
        tableView.classList.add('d-none');
        cardsView.classList.remove('d-none');
        tableBtn.classList.remove('active');
        cardsBtn.classList.add('active');
    }
}

function loadTableData() {
    const tbody = document.getElementById('inventoryTableBody');

    // Clear existing data
    tbody.innerHTML = '';

    // Add data rows
    inventoryData.forEach(item => {
        const row = document.createElement('tr');

        const quantityClass = item.quantity === 0 ? 'text-danger' : item.quantity <= 10 ? 'text-warning' : '';
        const categoryBadgeClass = getCategoryBadgeClass(item.category);

        row.innerHTML = `
            <td>
                <img src="${item.image}" alt="${item.name}" class="rounded" style="width: 50px; height: 50px;">
            </td>
            <td>
                <strong>${item.name}</strong><br>
                <small class="text-muted">${item.description}</small>
            </td>
            <td><span class="badge ${categoryBadgeClass}">${item.category}</span></td>
            <td><strong class="${quantityClass}">${item.quantity}</strong></td>
            <td>${item.unit}</td>
            <td><strong>${item.purchasePrice.toFixed(2)} Ø±ÙŠØ§Ù„</strong></td>
            <td><strong>${item.sellingPrice.toFixed(2)} Ø±ÙŠØ§Ù„</strong></td>
            <td><span class="badge bg-${item.statusClass}">${item.status}</span></td>
            <td>
                <div class="btn-group btn-group-sm">
                    <button class="btn btn-outline-primary" onclick="viewItem(${item.id})" title="Ø¹Ø±Ø¶">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn btn-outline-warning" onclick="editItem(${item.id})" title="ØªØ¹Ø¯ÙŠÙ„">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-outline-info" onclick="adjustStock(${item.id})" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
                        <i class="fas fa-boxes"></i>
                    </button>
                    <button class="btn btn-outline-secondary" onclick="viewHistory(${item.id})" title="Ø§Ù„ØªØ§Ø±ÙŠØ®">
                        <i class="fas fa-history"></i>
                    </button>
                </div>
            </td>
        `;

        tbody.appendChild(row);
    });
}

function getCategoryBadgeClass(category) {
    const categoryClasses = {
        'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª': 'bg-primary',
        'ÙƒØªØ¨': 'bg-info',
        'Ù…Ù„Ø§Ø¨Ø³': 'bg-secondary',
        'Ø£ØºØ°ÙŠØ©': 'bg-success'
    };
    return categoryClasses[category] || 'bg-secondary';
}

// Search and filter functionality
function setupSearchAndFilter() {
    const searchInput = document.getElementById('searchItems');
    const categoryFilter = document.getElementById('filterCategory');
    const sortSelect = document.getElementById('sortItems');

    searchInput.addEventListener('input', filterAndSearch);
    categoryFilter.addEventListener('change', filterAndSearch);
    sortSelect.addEventListener('change', filterAndSearch);
}

function filterAndSearch() {
    const searchTerm = document.getElementById('searchItems').value.toLowerCase();
    const selectedCategory = document.getElementById('filterCategory').value;
    const sortBy = document.getElementById('sortItems').value;

    let filteredData = inventoryData.filter(item => {
        const matchesSearch = item.name.toLowerCase().includes(searchTerm) ||
                            item.description.toLowerCase().includes(searchTerm);
        const matchesCategory = !selectedCategory || item.category === selectedCategory;

        return matchesSearch && matchesCategory;
    });

    // Sort data
    if (sortBy === 'name') {
        filteredData.sort((a, b) => a.name.localeCompare(b.name));
    } else if (sortBy === 'quantity') {
        filteredData.sort((a, b) => b.quantity - a.quantity);
    } else if (sortBy === 'price') {
        filteredData.sort((a, b) => b.sellingPrice - a.sellingPrice);
    }

    // Update table if in table view
    if (!document.getElementById('tableView').classList.contains('d-none')) {
        updateTableWithData(filteredData);
    }

    // Update cards view
    updateCardsWithData(filteredData);
}

function updateTableWithData(data) {
    const tbody = document.getElementById('inventoryTableBody');
    tbody.innerHTML = '';

    data.forEach(item => {
        const row = document.createElement('tr');
        const quantityClass = item.quantity === 0 ? 'text-danger' : item.quantity <= 10 ? 'text-warning' : '';
        const categoryBadgeClass = getCategoryBadgeClass(item.category);

        row.innerHTML = `
            <td>
                <img src="${item.image}" alt="${item.name}" class="rounded" style="width: 50px; height: 50px;">
            </td>
            <td>
                <strong>${item.name}</strong><br>
                <small class="text-muted">${item.description}</small>
            </td>
            <td><span class="badge ${categoryBadgeClass}">${item.category}</span></td>
            <td><strong class="${quantityClass}">${item.quantity}</strong></td>
            <td>${item.unit}</td>
            <td><strong>${item.purchasePrice.toFixed(2)} Ø±ÙŠØ§Ù„</strong></td>
            <td><strong>${item.sellingPrice.toFixed(2)} Ø±ÙŠØ§Ù„</strong></td>
            <td><span class="badge bg-${item.statusClass}">${item.status}</span></td>
            <td>
                <div class="btn-group btn-group-sm">
                    <button class="btn btn-outline-primary" onclick="viewItem(${item.id})" title="Ø¹Ø±Ø¶">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn btn-outline-warning" onclick="editItem(${item.id})" title="ØªØ¹Ø¯ÙŠÙ„">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-outline-info" onclick="adjustStock(${item.id})" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
                        <i class="fas fa-boxes"></i>
                    </button>
                    <button class="btn btn-outline-secondary" onclick="viewHistory(${item.id})" title="Ø§Ù„ØªØ§Ø±ÙŠØ®">
                        <i class="fas fa-history"></i>
                    </button>
                </div>
            </td>
        `;
        tbody.appendChild(row);
    });
}

function updateCardsWithData(data) {
    // This would update the cards view - for now we'll keep the existing cards
    console.log('Cards view updated with', data.length, 'items');
}

function viewItem(id) {
    const item = inventoryData.find(item => item.id === id);
    if (item) {
        alert(`Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØµÙ†Ù: ${item.name}\nØ§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity} ${item.unit}\nØ³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹: ${item.sellingPrice} Ø±ÙŠØ§Ù„`);
    }
}

function editItem(id) {
    const item = inventoryData.find(item => item.id === id);
    if (item) {
        alert(`ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØµÙ†Ù: ${item.name}\nØ§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${item.quantity} ${item.unit}`);
    }
}

function adjustStock(id) {
    // Show stock adjustment modal
    const modal = new bootstrap.Modal(document.getElementById('stockAdjustmentModal'));
    modal.show();
}

function viewHistory(id) {
    alert('Ø¹Ø±Ø¶ ØªØ§Ø±ÙŠØ® Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù„Ù„ØµÙ†Ù Ø±Ù‚Ù…: ' + id);
}

function saveItem() {
    const form = document.getElementById('itemForm');
    const formData = new FormData(form);
    
    alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØµÙ†Ù Ø¨Ù†Ø¬Ø§Ø­');
    
    const modal = bootstrap.Modal.getInstance(document.getElementById('addItemModal'));
    modal.hide();
    form.reset();
}

function saveStockAdjustment() {
    const form = document.getElementById('stockAdjustmentForm');
    const formData = new FormData(form);
    
    alert('ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨Ù†Ø¬Ø§Ø­');
    
    const modal = bootstrap.Modal.getInstance(document.getElementById('stockAdjustmentModal'));
    modal.hide();
    form.reset();
}

function exportInventory() {
    alert('ØªØµØ¯ÙŠØ± Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†');
}

function stockAlert() {
    showToast(isRTL ? 'Ø¹Ø±Ø¶ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶' : 'Showing low stock alerts', 'info');
}

// Refresh data
function refreshData() {
    const btn = event.target.closest('button');
    const originalText = btn.innerHTML;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>' + (isRTL ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«...' : 'Refreshing...');

    setTimeout(() => {
        btn.disabled = false;
        btn.innerHTML = originalText;
        showToast(isRTL ? 'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­' : 'Data refreshed successfully', 'success');
    }, 1500);
}

// Generate report
function generateReport() {
    const btn = event.target.closest('button');
    const originalText = btn.innerHTML;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>' + (isRTL ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡...' : 'Generating...');

    setTimeout(() => {
        btn.disabled = false;
        btn.innerHTML = originalText;
        showToast(isRTL ? 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨Ù†Ø¬Ø§Ø­' : 'Inventory report generated successfully', 'success');
    }, 1500);
}

// Save all data
function saveAllData() {
    const btn = event.target.closest('button');
    const originalText = btn.innerHTML;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>' + (isRTL ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...' : 'Saving...');

    setTimeout(() => {
        btn.disabled = false;
        btn.innerHTML = originalText;
        showToast(isRTL ? 'ØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­' : 'All data saved successfully', 'success');
    }, 1500);
}

// Print report
function printReport() {
    showToast(isRTL ? 'Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©...' : 'Preparing report for printing...', 'info');
    setTimeout(() => {
        window.print();
    }, 1000);
}

// Initialize page when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    console.log('ğŸ”„ Initializing inventory page...');

    // Setup search and filter functionality
    setupSearchAndFilter();

    // Load initial table data (if table view is active)
    if (!document.getElementById('tableView').classList.contains('d-none')) {
        loadTableData();
    }

    console.log('âœ… Inventory page initialized successfully');
});
</script>
{% endblock %}
