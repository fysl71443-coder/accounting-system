{% extends "base_unified.html" %}

{% block title %}
    {% if session.get('language', 'ar') == 'ar' %}
        Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† - Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
    {% else %}
        Suppliers Management - Accounting System
    {% endif %}
{% endblock %}

{% block page_icon %}<i class="fas fa-truck"></i>{% endblock %}

{% block page_title %}
{% if session.get('language', 'ar') == 'ar' %}
    Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
{% else %}
    Suppliers Management
{% endif %}
{% endblock %}

{% block content %}

<!-- Action Buttons -->
<div class="card mb-4">
    <div class="card-body">
        <button type="button" class="btn btn-success btn-sm" onclick="location.href='/suppliers/new'" title="Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ±Ø¯ Ø¬Ø¯ÙŠØ¯">
            <i class="fas fa-plus me-1"></i>
            â• Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ±Ø¯
        </button>
        <button type="button" class="btn btn-danger btn-sm" onclick="deleteSelectedSuppliers()" title="Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† Ø§Ù„Ù…Ø­Ø¯Ø¯ÙŠÙ†">
            <i class="fas fa-trash me-1"></i>
            ğŸ—‘ Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø¯Ø¯
        </button>
        <button type="button" class="btn btn-secondary btn-sm" onclick="window.print()" title="Ø·Ø¨Ø§Ø¹Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†">
            <i class="fas fa-print me-1"></i>
            ğŸ–¨ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        </button>
        <button type="button" class="btn btn-primary btn-sm" onclick="location.href='/purchases'" title="Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª">
            <i class="fas fa-shopping-bag me-1"></i>
            ğŸ’µ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
        </button>
    </div>
</div>

<!-- Search and Filter -->
<div class="row mb-4">
    <div class="col-md-6">
        <div class="input-group">
            <input type="text" class="form-control" id="searchSuppliers" placeholder="{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†...{% else %}Search suppliers...{% endif %}">
            <button class="btn btn-outline-secondary" type="button">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
    <div class="col-md-3">
        <select class="form-select" id="filterCategory">
            <option value="">{% if session.get('language', 'ar') == 'ar' %}Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª{% else %}All Categories{% endif %}</option>
            <option value="food">{% if session.get('language', 'ar') == 'ar' %}Ø£ØºØ°ÙŠØ©{% else %}Food{% endif %}</option>
            <option value="spices">{% if session.get('language', 'ar') == 'ar' %}Ø¨Ù‡Ø§Ø±Ø§Øª{% else %}Spices{% endif %}</option>
            <option value="meat">{% if session.get('language', 'ar') == 'ar' %}Ù„Ø­ÙˆÙ…{% else %}Meat{% endif %}</option>
            <option value="vegetables">{% if session.get('language', 'ar') == 'ar' %}Ø®Ø¶Ø±ÙˆØ§Øª{% else %}Vegetables{% endif %}</option>
        </select>
    </div>
    <div class="col-md-3">
        <select class="form-select" id="filterStatus">
            <option value="">{% if session.get('language', 'ar') == 'ar' %}Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª{% else %}All Status{% endif %}</option>
            <option value="active">{% if session.get('language', 'ar') == 'ar' %}Ù†Ø´Ø·{% else %}Active{% endif %}</option>
            <option value="inactive">{% if session.get('language', 'ar') == 'ar' %}ØºÙŠØ± Ù†Ø´Ø·{% else %}Inactive{% endif %}</option>
        </select>
    </div>
</div>

<!-- View Toggle Controls -->
<div class="row mb-3">
    <div class="col-md-6">
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="selectAll" onchange="toggleSelectAll()">
            <label class="form-check-label" for="selectAll">
                {% if session.get('language', 'ar') == 'ar' %}ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†{% else %}Select All Suppliers{% endif %}
            </label>
        </div>
    </div>
    <div class="col-md-6 text-end">
        <div class="btn-group me-2" role="group">
            <button type="button" class="btn btn-outline-secondary" onclick="toggleView('table')" id="tableViewBtn">
                <i class="fas fa-table"></i>
                {% if session.get('language', 'ar') == 'ar' %}Ø¬Ø¯ÙˆÙ„{% else %}Table{% endif %}
            </button>
            <button type="button" class="btn btn-outline-secondary active" onclick="toggleView('cards')" id="cardsViewBtn">
                <i class="fas fa-th"></i>
                {% if session.get('language', 'ar') == 'ar' %}ÙƒØ±ÙˆØª{% else %}Cards{% endif %}
            </button>
        </div>
        <button type="button" class="btn btn-outline-secondary btn-sm" onclick="clearFilters()">
            <i class="fas fa-times me-1"></i>
            {% if session.get('language', 'ar') == 'ar' %}Ù…Ø³Ø­ Ø§Ù„ÙÙ„Ø§ØªØ±{% else %}Clear Filters{% endif %}
        </button>
    </div>
</div>

<!-- Suppliers Table View -->
<div class="card d-none" id="tableView">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-hover" id="suppliersTable">
                <thead>
                    <tr>
                        <th>
                            <input type="checkbox" class="form-check-input" id="selectAllTable" onchange="toggleSelectAllTable()">
                        </th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯{% else %}Supplier Name{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©{% else %}Category{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ù‡Ø§ØªÙ{% else %}Phone{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ{% else %}Email{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø¢Ø®Ø± Ø·Ù„Ø¨ÙŠØ©{% else %}Last Order{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø­Ø§Ù„Ø©{% else %}Status{% endif %}</th>
                        <th>{% if session.get('language', 'ar') == 'ar' %}Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª{% else %}Actions{% endif %}</th>
                    </tr>
                </thead>
                <tbody id="suppliersTableBody">
                    <!-- Sample suppliers data -->
                    <tr>
                        <td><input type="checkbox" class="form-check-input supplier-checkbox" data-id="1"></td>
                        <td>
                            <strong>Ù…ÙˆØ±Ø¯ Ø§Ù„Ø£Ø±Ø² Ø§Ù„Ù…Ø­Ù„ÙŠ</strong><br>
                            <small class="text-muted">Ù…ÙˆØ±Ø¯ Ù…Ù†Ø° 2022</small>
                        </td>
                        <td><span class="badge bg-info">Ø£ØºØ°ÙŠØ©</span></td>
                        <td>+966 50 123 4567</td>
                        <td>rice@supplier.com</td>
                        <td>2024-01-15</td>
                        <td><span class="badge bg-success">Ù†Ø´Ø·</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewSupplier(1)" title="Ø¹Ø±Ø¶">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning" onclick="editSupplier(1)" title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-success" onclick="newOrder(1)" title="Ø·Ù„Ø¨ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©">
                                    <i class="fas fa-shopping-cart"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="viewOrders(1)" title="Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="form-check-input supplier-checkbox" data-id="2"></td>
                        <td>
                            <strong>Ù…ÙˆØ±Ø¯ Ø§Ù„Ø¨Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø±Ù‚ÙŠØ©</strong><br>
                            <small class="text-muted">Ù…ÙˆØ±Ø¯ Ù…Ù†Ø° 2021</small>
                        </td>
                        <td><span class="badge bg-warning">Ø¨Ù‡Ø§Ø±Ø§Øª</span></td>
                        <td>+966 55 987 6543</td>
                        <td>spices@supplier.com</td>
                        <td>2024-01-18</td>
                        <td><span class="badge bg-success">Ù†Ø´Ø·</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewSupplier(2)" title="Ø¹Ø±Ø¶">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning" onclick="editSupplier(2)" title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-success" onclick="newOrder(2)" title="Ø·Ù„Ø¨ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©">
                                    <i class="fas fa-shopping-cart"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="viewOrders(2)" title="Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="form-check-input supplier-checkbox" data-id="3"></td>
                        <td>
                            <strong>Ù…ÙˆØ±Ø¯ Ø§Ù„Ù„Ø­ÙˆÙ… Ø§Ù„Ø·Ø§Ø²Ø¬Ø©</strong><br>
                            <small class="text-muted">Ù…ÙˆØ±Ø¯ Ù…Ù†Ø° 2023</small>
                        </td>
                        <td><span class="badge bg-danger">Ù„Ø­ÙˆÙ…</span></td>
                        <td>+966 56 234 5678</td>
                        <td>meat@supplier.com</td>
                        <td>2024-01-20</td>
                        <td><span class="badge bg-success">Ù†Ø´Ø·</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewSupplier(3)" title="Ø¹Ø±Ø¶">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning" onclick="editSupplier(3)" title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-success" onclick="newOrder(3)" title="Ø·Ù„Ø¨ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©">
                                    <i class="fas fa-shopping-cart"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="viewOrders(3)" title="Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="form-check-input supplier-checkbox" data-id="4"></td>
                        <td>
                            <strong>Ù…ÙˆØ±Ø¯ Ø§Ù„Ø®Ø¶Ø±ÙˆØ§Øª Ø§Ù„Ø·Ø§Ø²Ø¬Ø©</strong><br>
                            <small class="text-muted">Ù…ÙˆØ±Ø¯ Ù…Ù†Ø° 2024</small>
                        </td>
                        <td><span class="badge bg-success">Ø®Ø¶Ø±ÙˆØ§Øª</span></td>
                        <td>+966 57 345 6789</td>
                        <td>vegetables@supplier.com</td>
                        <td>2024-01-22</td>
                        <td><span class="badge bg-success">Ù†Ø´Ø·</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewSupplier(4)" title="Ø¹Ø±Ø¶">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning" onclick="editSupplier(4)" title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-success" onclick="newOrder(4)" title="Ø·Ù„Ø¨ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©">
                                    <i class="fas fa-shopping-cart"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="viewOrders(4)" title="Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="form-check-input supplier-checkbox" data-id="5"></td>
                        <td>
                            <strong>Ù…ÙˆØ±Ø¯ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ø§Ù„Ù…Ø¬Ù…Ø¯Ø©</strong><br>
                            <small class="text-muted">Ù…ÙˆØ±Ø¯ Ù…Ù†Ø° 2020</small>
                        </td>
                        <td><span class="badge bg-info">Ø£ØºØ°ÙŠØ©</span></td>
                        <td>+966 58 456 7890</td>
                        <td>frozen@supplier.com</td>
                        <td>2023-12-28</td>
                        <td><span class="badge bg-warning">ØºÙŠØ± Ù†Ø´Ø·</span></td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="viewSupplier(5)" title="Ø¹Ø±Ø¶">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-warning" onclick="editSupplier(5)" title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-success" onclick="newOrder(5)" title="Ø·Ù„Ø¨ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©">
                                    <i class="fas fa-shopping-cart"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="viewOrders(5)" title="Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª">
                                    <i class="fas fa-history"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Suppliers Cards View -->
<div class="row" id="cardsView">
    <!-- Sample Supplier Cards -->
    <div class="col-md-6 col-lg-4 mb-4">
        <div class="card supplier-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h6 class="card-title mb-0">Ù…ÙˆØ±Ø¯ Ø§Ù„Ø£Ø±Ø² Ø§Ù„Ù…Ø­Ù„ÙŠ</h6>
                <span class="badge bg-success">Ù†Ø´Ø·</span>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©:{% else %}Category:{% endif %}
                        </small>
                        <span class="badge bg-info">Ø£ØºØ°ÙŠØ©</span>
                    </div>
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ù‡Ø§ØªÙ:{% else %}Phone:{% endif %}
                        </small>
                        <br>+966 50 123 4567
                    </div>
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:{% else %}Address:{% endif %}
                        </small>
                        <br>Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©
                    </div>
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø¢Ø®Ø± Ø·Ù„Ø¨ÙŠØ©:{% else %}Last Order:{% endif %}
                        </small>
                        <br>2024-01-15
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <div class="btn-group w-100" role="group">
                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="viewSupplier(1)">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-warning" onclick="editSupplier(1)">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-success" onclick="newOrder(1)">
                        <i class="fas fa-shopping-cart"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-info" onclick="viewOrders(1)">
                        <i class="fas fa-history"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-6 col-lg-4 mb-4">
        <div class="card supplier-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h6 class="card-title mb-0">Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø¯Ø¬Ø§Ø¬ Ø§Ù„Ø·Ø§Ø²Ø¬</h6>
                <span class="badge bg-success">Ù†Ø´Ø·</span>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©:{% else %}Category:{% endif %}
                        </small>
                        <span class="badge bg-warning">Ù„Ø­ÙˆÙ…</span>
                    </div>
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ù‡Ø§ØªÙ:{% else %}Phone:{% endif %}
                        </small>
                        <br>+966 55 987 6543
                    </div>
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:{% else %}Address:{% endif %}
                        </small>
                        <br>Ø§Ù„Ø®Ø±Ø¬ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©
                    </div>
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø¢Ø®Ø± Ø·Ù„Ø¨ÙŠØ©:{% else %}Last Order:{% endif %}
                        </small>
                        <br>2024-01-20
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <div class="btn-group w-100" role="group">
                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="viewSupplier(2)">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-warning" onclick="editSupplier(2)">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-success" onclick="newOrder(2)">
                        <i class="fas fa-shopping-cart"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-info" onclick="viewOrders(2)">
                        <i class="fas fa-history"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-6 col-lg-4 mb-4">
        <div class="card supplier-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h6 class="card-title mb-0">Ù…ÙˆØ±Ø¯ Ø§Ù„Ø¨Ù‡Ø§Ø±Ø§Øª Ø§Ù„ÙØ§Ø®Ø±Ø©</h6>
                <span class="badge bg-success">Ù†Ø´Ø·</span>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©:{% else %}Category:{% endif %}
                        </small>
                        <span class="badge bg-danger">Ø¨Ù‡Ø§Ø±Ø§Øª</span>
                    </div>
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ù‡Ø§ØªÙ:{% else %}Phone:{% endif %}
                        </small>
                        <br>+966 56 456 7890
                    </div>
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:{% else %}Address:{% endif %}
                        </small>
                        <br>Ø¬Ø¯Ø©ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©
                    </div>
                    <div class="col-12 mb-2">
                        <small class="text-muted">
                            {% if session.get('language', 'ar') == 'ar' %}Ø¢Ø®Ø± Ø·Ù„Ø¨ÙŠØ©:{% else %}Last Order:{% endif %}
                        </small>
                        <br>2024-01-18
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <div class="btn-group w-100" role="group">
                    <button type="button" class="btn btn-sm btn-outline-primary" onclick="viewSupplier(3)">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-warning" onclick="editSupplier(3)">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-success" onclick="newOrder(3)">
                        <i class="fas fa-shopping-cart"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-info" onclick="viewOrders(3)">
                        <i class="fas fa-history"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Supplier Modal -->
<div class="modal fade" id="addSupplierModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    {% if session.get('language', 'ar') == 'ar' %}Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ±Ø¯ Ø¬Ø¯ÙŠØ¯{% else %}Add New Supplier{% endif %}
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="supplierForm">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯{% else %}Supplier Name{% endif %}
                            </label>
                            <input type="text" class="form-control" name="supplier_name" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©{% else %}Category{% endif %}
                            </label>
                            <select class="form-select" name="category" required>
                                <option value="">{% if session.get('language', 'ar') == 'ar' %}Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©{% else %}Select Category{% endif %}</option>
                                <option value="food">{% if session.get('language', 'ar') == 'ar' %}Ø£ØºØ°ÙŠØ©{% else %}Food{% endif %}</option>
                                <option value="spices">{% if session.get('language', 'ar') == 'ar' %}Ø¨Ù‡Ø§Ø±Ø§Øª{% else %}Spices{% endif %}</option>
                                <option value="meat">{% if session.get('language', 'ar') == 'ar' %}Ù„Ø­ÙˆÙ…{% else %}Meat{% endif %}</option>
                                <option value="vegetables">{% if session.get('language', 'ar') == 'ar' %}Ø®Ø¶Ø±ÙˆØ§Øª{% else %}Vegetables{% endif %}</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ{% else %}Phone Number{% endif %}
                            </label>
                            <input type="tel" class="form-control" name="phone">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ{% else %}Email{% endif %}
                            </label>
                            <input type="email" class="form-control" name="email">
                        </div>
                        <div class="col-12 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø¹Ù†ÙˆØ§Ù†{% else %}Address{% endif %}
                            </label>
                            <textarea class="form-control" name="address" rows="3"></textarea>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø´Ø±ÙˆØ· Ø§Ù„Ø¯ÙØ¹{% else %}Payment Terms{% endif %}
                            </label>
                            <select class="form-select" name="payment_terms">
                                <option value="cash">{% if session.get('language', 'ar') == 'ar' %}Ù†Ù‚Ø¯Ø§Ù‹{% else %}Cash{% endif %}</option>
                                <option value="30_days">{% if session.get('language', 'ar') == 'ar' %}30 ÙŠÙˆÙ…{% else %}30 Days{% endif %}</option>
                                <option value="60_days">{% if session.get('language', 'ar') == 'ar' %}60 ÙŠÙˆÙ…{% else %}60 Days{% endif %}</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ØªÙ‚ÙŠÙŠÙ…{% else %}Rating{% endif %}
                            </label>
                            <select class="form-select" name="rating">
                                <option value="5">â­â­â­â­â­ Ù…Ù…ØªØ§Ø²</option>
                                <option value="4">â­â­â­â­ Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹</option>
                                <option value="3">â­â­â­ Ø¬ÙŠØ¯</option>
                                <option value="2">â­â­ Ù…Ù‚Ø¨ÙˆÙ„</option>
                                <option value="1">â­ Ø¶Ø¹ÙŠÙ</option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    {% if session.get('language', 'ar') == 'ar' %}Ø¥Ù„ØºØ§Ø¡{% else %}Cancel{% endif %}
                </button>
                <button type="button" class="btn btn-primary" onclick="saveSupplier()">
                    {% if session.get('language', 'ar') == 'ar' %}Ø­ÙØ¸{% else %}Save{% endif %}
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Sample suppliers data
const suppliersData = [
    {
        id: 1,
        name: 'Ù…ÙˆØ±Ø¯ Ø§Ù„Ø£Ø±Ø² Ø§Ù„Ù…Ø­Ù„ÙŠ',
        category: 'Ø£ØºØ°ÙŠØ©',
        categoryClass: 'info',
        phone: '+966 50 123 4567',
        email: 'rice@supplier.com',
        lastOrder: '2024-01-15',
        status: 'Ù†Ø´Ø·',
        statusClass: 'success',
        joinDate: '2022'
    },
    {
        id: 2,
        name: 'Ù…ÙˆØ±Ø¯ Ø§Ù„Ø¨Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø±Ù‚ÙŠØ©',
        category: 'Ø¨Ù‡Ø§Ø±Ø§Øª',
        categoryClass: 'warning',
        phone: '+966 55 987 6543',
        email: 'spices@supplier.com',
        lastOrder: '2024-01-18',
        status: 'Ù†Ø´Ø·',
        statusClass: 'success',
        joinDate: '2021'
    },
    {
        id: 3,
        name: 'Ù…ÙˆØ±Ø¯ Ø§Ù„Ù„Ø­ÙˆÙ… Ø§Ù„Ø·Ø§Ø²Ø¬Ø©',
        category: 'Ù„Ø­ÙˆÙ…',
        categoryClass: 'danger',
        phone: '+966 56 234 5678',
        email: 'meat@supplier.com',
        lastOrder: '2024-01-20',
        status: 'Ù†Ø´Ø·',
        statusClass: 'success',
        joinDate: '2023'
    },
    {
        id: 4,
        name: 'Ù…ÙˆØ±Ø¯ Ø§Ù„Ø®Ø¶Ø±ÙˆØ§Øª Ø§Ù„Ø·Ø§Ø²Ø¬Ø©',
        category: 'Ø®Ø¶Ø±ÙˆØ§Øª',
        categoryClass: 'success',
        phone: '+966 57 345 6789',
        email: 'vegetables@supplier.com',
        lastOrder: '2024-01-22',
        status: 'Ù†Ø´Ø·',
        statusClass: 'success',
        joinDate: '2024'
    },
    {
        id: 5,
        name: 'Ù…ÙˆØ±Ø¯ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ø§Ù„Ù…Ø¬Ù…Ø¯Ø©',
        category: 'Ø£ØºØ°ÙŠØ©',
        categoryClass: 'info',
        phone: '+966 58 456 7890',
        email: 'frozen@supplier.com',
        lastOrder: '2023-12-28',
        status: 'ØºÙŠØ± Ù†Ø´Ø·',
        statusClass: 'warning',
        joinDate: '2020'
    }
];

function toggleView(viewType) {
    const tableView = document.getElementById('tableView');
    const cardsView = document.getElementById('cardsView');
    const tableBtn = document.getElementById('tableViewBtn');
    const cardsBtn = document.getElementById('cardsViewBtn');

    if (viewType === 'table') {
        tableView.classList.remove('d-none');
        cardsView.classList.add('d-none');
        tableBtn.classList.add('active');
        cardsBtn.classList.remove('active');

        // Load table data when switching to table view
        loadTableData();
    } else {
        tableView.classList.add('d-none');
        cardsView.classList.remove('d-none');
        tableBtn.classList.remove('active');
        cardsBtn.classList.add('active');
    }
}

function loadTableData() {
    const tbody = document.getElementById('suppliersTableBody');

    // Clear existing data
    tbody.innerHTML = '';

    // Add data rows
    suppliersData.forEach(supplier => {
        const row = document.createElement('tr');

        row.innerHTML = `
            <td><input type="checkbox" class="form-check-input supplier-checkbox" data-id="${supplier.id}"></td>
            <td>
                <strong>${supplier.name}</strong><br>
                <small class="text-muted">Ù…ÙˆØ±Ø¯ Ù…Ù†Ø° ${supplier.joinDate}</small>
            </td>
            <td><span class="badge bg-${supplier.categoryClass}">${supplier.category}</span></td>
            <td>${supplier.phone}</td>
            <td>${supplier.email}</td>
            <td>${supplier.lastOrder}</td>
            <td><span class="badge bg-${supplier.statusClass}">${supplier.status}</span></td>
            <td>
                <div class="btn-group btn-group-sm">
                    <button class="btn btn-outline-primary" onclick="viewSupplier(${supplier.id})" title="Ø¹Ø±Ø¶">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn btn-outline-warning" onclick="editSupplier(${supplier.id})" title="ØªØ¹Ø¯ÙŠÙ„">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-outline-success" onclick="newOrder(${supplier.id})" title="Ø·Ù„Ø¨ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©">
                        <i class="fas fa-shopping-cart"></i>
                    </button>
                    <button class="btn btn-outline-info" onclick="viewOrders(${supplier.id})" title="Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª">
                        <i class="fas fa-history"></i>
                    </button>
                </div>
            </td>
        `;

        tbody.appendChild(row);
    });

    // Re-attach event listeners for checkboxes
    attachCheckboxListeners();
}

function attachCheckboxListeners() {
    document.querySelectorAll('.supplier-checkbox').forEach(checkbox => {
        checkbox.addEventListener('change', updateSelectedCount);
    });
}

function updateSelectedCount() {
    const selected = document.querySelectorAll('.supplier-checkbox:checked');
    const count = selected.length;
    const selectedCountElement = document.getElementById('selectedCount');

    if (selectedCountElement) {
        if (count === 0) {
            selectedCountElement.textContent = 'Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø£ÙŠ Ù…ÙˆØ±Ø¯';
        } else {
            selectedCountElement.textContent = `ØªÙ… ØªØ­Ø¯ÙŠØ¯ ${count} Ù…ÙˆØ±Ø¯`;
        }
    }
}

function toggleSelectAll() {
    const selectAll = document.getElementById('selectAll');
    const checkboxes = document.querySelectorAll('.supplier-checkbox');

    checkboxes.forEach(checkbox => {
        checkbox.checked = selectAll.checked;
    });

    updateSelectedCount();
}

function clearFilters() {
    document.getElementById('searchSuppliers').value = '';
    document.getElementById('filterCategory').value = '';
    document.getElementById('filterStatus').value = '';

    // Reset to show all data
    updateCardsWithData(suppliersData);
    if (!document.getElementById('tableView').classList.contains('d-none')) {
        updateTableWithData(suppliersData);
    }
}

function toggleSelectAllTable() {
    const selectAllTable = document.getElementById('selectAllTable');
    const checkboxes = document.querySelectorAll('#suppliersTable .supplier-checkbox');

    checkboxes.forEach(checkbox => {
        checkbox.checked = selectAllTable.checked;
    });

    updateSelectedCount();
}

// Search functionality
function setupSearchAndFilter() {
    const searchInput = document.getElementById('searchSuppliers');
    const categoryFilter = document.getElementById('filterCategory');
    const statusFilter = document.getElementById('filterStatus');

    if (searchInput) searchInput.addEventListener('input', filterSuppliers);
    if (categoryFilter) categoryFilter.addEventListener('change', filterSuppliers);
    if (statusFilter) statusFilter.addEventListener('change', filterSuppliers);
}

function filterSuppliers() {
    const searchTerm = document.getElementById('searchSuppliers').value.toLowerCase();
    const selectedCategory = document.getElementById('filterCategory').value;
    const selectedStatus = document.getElementById('filterStatus').value;

    let filteredData = suppliersData.filter(supplier => {
        const matchesSearch = supplier.name.toLowerCase().includes(searchTerm) ||
                            supplier.phone.includes(searchTerm) ||
                            supplier.email.toLowerCase().includes(searchTerm);
        const matchesCategory = !selectedCategory || supplier.category === selectedCategory;
        const matchesStatus = !selectedStatus || supplier.status === selectedStatus;

        return matchesSearch && matchesCategory && matchesStatus;
    });

    // Update table if in table view
    if (!document.getElementById('tableView').classList.contains('d-none')) {
        updateTableWithData(filteredData);
    }

    // Update cards view
    updateCardsWithData(filteredData);
}

function updateTableWithData(data) {
    const tbody = document.getElementById('suppliersTableBody');
    tbody.innerHTML = '';

    data.forEach(supplier => {
        const row = document.createElement('tr');

        row.innerHTML = `
            <td><input type="checkbox" class="form-check-input supplier-checkbox" data-id="${supplier.id}"></td>
            <td>
                <strong>${supplier.name}</strong><br>
                <small class="text-muted">Ù…ÙˆØ±Ø¯ Ù…Ù†Ø° ${supplier.joinDate}</small>
            </td>
            <td><span class="badge bg-${supplier.categoryClass}">${supplier.category}</span></td>
            <td>${supplier.phone}</td>
            <td>${supplier.email}</td>
            <td>${supplier.lastOrder}</td>
            <td><span class="badge bg-${supplier.statusClass}">${supplier.status}</span></td>
            <td>
                <div class="btn-group btn-group-sm">
                    <button class="btn btn-outline-primary" onclick="viewSupplier(${supplier.id})" title="Ø¹Ø±Ø¶">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn btn-outline-warning" onclick="editSupplier(${supplier.id})" title="ØªØ¹Ø¯ÙŠÙ„">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-outline-success" onclick="newOrder(${supplier.id})" title="Ø·Ù„Ø¨ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©">
                        <i class="fas fa-shopping-cart"></i>
                    </button>
                    <button class="btn btn-outline-info" onclick="viewOrders(${supplier.id})" title="Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª">
                        <i class="fas fa-history"></i>
                    </button>
                </div>
            </td>
        `;
        tbody.appendChild(row);
    });

    // Re-attach event listeners
    attachCheckboxListeners();
}

function updateCardsWithData(data) {
    const cardsContainer = document.getElementById('cardsView');
    cardsContainer.innerHTML = '';

    data.forEach(supplier => {
        const cardCol = document.createElement('div');
        cardCol.className = 'col-md-6 col-lg-4 mb-4';

        cardCol.innerHTML = `
            <div class="card supplier-card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h6 class="card-title mb-0">${supplier.name}</h6>
                    <span class="badge bg-${supplier.statusClass}">${supplier.status}</span>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-12 mb-2">
                            <small class="text-muted">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„ÙØ¦Ø©:{% else %}Category:{% endif %}
                            </small>
                            <span class="badge bg-${supplier.categoryClass}">${supplier.category}</span>
                        </div>
                        <div class="col-12 mb-2">
                            <small class="text-muted">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ù‡Ø§ØªÙ:{% else %}Phone:{% endif %}
                            </small>
                            <br>${supplier.phone}
                        </div>
                        <div class="col-12 mb-2">
                            <small class="text-muted">
                                {% if session.get('language', 'ar') == 'ar' %}Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:{% else %}Email:{% endif %}
                            </small>
                            <br>${supplier.email}
                        </div>
                        <div class="col-12 mb-2">
                            <small class="text-muted">
                                {% if session.get('language', 'ar') == 'ar' %}Ø¢Ø®Ø± Ø·Ù„Ø¨ÙŠØ©:{% else %}Last Order:{% endif %}
                            </small>
                            <br>${supplier.lastOrder}
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="btn-group w-100" role="group">
                        <button type="button" class="btn btn-sm btn-outline-primary" onclick="viewSupplier(${supplier.id})">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button type="button" class="btn btn-sm btn-outline-warning" onclick="editSupplier(${supplier.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button type="button" class="btn btn-sm btn-outline-success" onclick="newOrder(${supplier.id})">
                            <i class="fas fa-shopping-cart"></i>
                        </button>
                        <button type="button" class="btn btn-sm btn-outline-info" onclick="viewOrders(${supplier.id})">
                            <i class="fas fa-history"></i>
                        </button>
                    </div>
                </div>
            </div>
        `;

        cardsContainer.appendChild(cardCol);
    });

    // Re-attach event listeners for checkboxes if needed
    attachCheckboxListeners();

    console.log('Cards view updated with', data.length, 'suppliers');
}
}

function viewSupplier(id) {
    const supplier = suppliersData.find(s => s.id === id);
    if (supplier) {
        const message = `Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆØ±Ø¯: ${supplier.name}\nØ§Ù„ÙØ¦Ø©: ${supplier.category}\nØ§Ù„Ù‡Ø§ØªÙ: ${supplier.phone}\nØ§Ù„Ø¨Ø±ÙŠØ¯: ${supplier.email}\nØ¢Ø®Ø± Ø·Ù„Ø¨ÙŠØ©: ${supplier.lastOrder}`;
        alert(message);
    } else {
        showToast(isRTL ? `Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆØ±Ø¯ Ø±Ù‚Ù…: ${id}` : `Viewing supplier: ${id}`, 'info');
    }
}

function editSupplier(id) {
    const supplier = suppliersData.find(s => s.id === id);
    if (supplier) {
        alert(`ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ±Ø¯: ${supplier.name}\nØ§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${supplier.status}`);
    }

    // Show modal for editing
    const modal = new bootstrap.Modal(document.getElementById('addSupplierModal'));
    modal.show();
    showToast(isRTL ? `ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ±Ø¯ Ø±Ù‚Ù…: ${id}` : `Editing supplier: ${id}`, 'info');
}

function newOrder(id) {
    const supplier = suppliersData.find(s => s.id === id);
    if (supplier) {
        alert(`Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ÙŠØ© Ø´Ø±Ø§Ø¡ Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ù…ÙˆØ±Ø¯: ${supplier.name}`);
        // Redirect to purchases page with supplier pre-selected
        // window.location.href = `/purchases?supplier_id=${id}`;
    }
}

function viewOrders(id) {
    const supplier = suppliersData.find(s => s.id === id);
    if (supplier) {
        alert(`Ø¹Ø±Ø¶ Ø·Ù„Ø¨ÙŠØ§Øª Ø§Ù„Ù…ÙˆØ±Ø¯: ${supplier.name}\nØ¢Ø®Ø± Ø·Ù„Ø¨ÙŠØ©: ${supplier.lastOrder}`);
        // Redirect to purchases page filtered by supplier
        // window.location.href = `/purchases?supplier_id=${id}`;
    }
}

function saveSupplier() {
    const form = document.getElementById('supplierForm');

    if (!validateForm(form)) {
        showToast(isRTL ? 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©' : 'Please fill all required fields', 'warning');
        return;
    }

    const saveBtn = document.querySelector('#addSupplierModal .btn-primary');
    showLoading(saveBtn);

    // Simulate API call
    setTimeout(() => {
        hideLoading(saveBtn);
        showToast(isRTL ? 'ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…ÙˆØ±Ø¯ Ø¨Ù†Ø¬Ø§Ø­' : 'Supplier saved successfully', 'success');

        // Close modal
        const modal = bootstrap.Modal.getInstance(document.getElementById('addSupplierModal'));
        modal.hide();

        // Reset form
        form.reset();
    }, 1000);
}

// Refresh data
function refreshData() {
    const btn = event.target.closest('button');
    const originalText = btn.innerHTML;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>' + (isRTL ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«...' : 'Refreshing...');

    setTimeout(() => {
        btn.disabled = false;
        btn.innerHTML = originalText;
        showToast(isRTL ? 'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­' : 'Data refreshed successfully', 'success');
    }, 1500);
}

// Generate report
function generateReport() {
    const btn = event.target.closest('button');
    const originalText = btn.innerHTML;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>' + (isRTL ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡...' : 'Generating...');

    setTimeout(() => {
        btn.disabled = false;
        btn.innerHTML = originalText;
        showToast(isRTL ? 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† Ø¨Ù†Ø¬Ø§Ø­' : 'Suppliers report generated successfully', 'success');
    }, 1500);
}

// Export data
function exportData() {
    const btn = event.target.closest('button');
    const originalText = btn.innerHTML;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>' + (isRTL ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµØ¯ÙŠØ±...' : 'Exporting...');

    setTimeout(() => {
        btn.disabled = false;
        btn.innerHTML = originalText;
        showToast(isRTL ? 'ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­' : 'Data exported successfully', 'success');
    }, 1500);
}

// Save all data
function saveAllData() {
    const btn = event.target.closest('button');
    const originalText = btn.innerHTML;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>' + (isRTL ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...' : 'Saving...');

    setTimeout(() => {
        btn.disabled = false;
        btn.innerHTML = originalText;
        showToast(isRTL ? 'ØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­' : 'All data saved successfully', 'success');
    }, 1500);
}

// Print report
function printReport() {
    showToast(isRTL ? 'Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©...' : 'Preparing report for printing...', 'info');
    setTimeout(() => {
        window.print();
    }, 1000);
}

// Delete selected
function deleteSelected() {
    showToast(isRTL ? 'ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…ÙˆØ±Ø¯ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„' : 'Please select at least one supplier', 'warning');
}

// Delete selected suppliers
function deleteSelectedSuppliers() {
    const selected = document.querySelectorAll('.supplier-checkbox:checked');
    if (selected.length === 0) {
        alert('ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ±Ø¯ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ù„Ø­Ø°Ù');
        return;
    }

    if (confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ${selected.length} Ù…ÙˆØ±Ø¯ØŸ`)) {
        alert(`ØªÙ… Ø­Ø°Ù ${selected.length} Ù…ÙˆØ±Ø¯ Ø¨Ù†Ø¬Ø§Ø­`);
        location.reload();
    }
}

// Initialize page when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    console.log('ğŸ”„ Initializing suppliers page...');

    // Setup search functionality
    setupSearchAndFilter();

    // Load initial cards data
    updateCardsWithData(suppliersData);

    // Add event listeners to supplier checkboxes
    attachCheckboxListeners();

    console.log('âœ… Suppliers page initialized successfully');
});
</script>
{% endblock %}
